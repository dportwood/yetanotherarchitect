flowchart TB
  subgraph ORG["AWS Organization / Control Tower (Global)"]
    direction TB
    MGMT["Management Account\n(billing/org root; no workloads)"]

    subgraph SEC_OU["OU: Security (Core)"]
      LOG["Log Archive Account\ncentral log storage"]
      AUD["Audit/Sec Tooling Account\nSecurity Hub / GuardDuty / Config (delegated admin)"]
    end

    subgraph SHARED_OU["OU: Shared Services (Global Control Plane)"]
      ID["Identity Account\nIAM Identity Center (SSO)"]
      CICD["CI/CD Tooling Account\npipelines/artifacts"]
      DNS["Shared DNS/Certs Account\nRoute 53, ACM (as allowed)"]
    end

    POL["Org Guardrails\nSCPs: region allow-lists per OU\nbaseline configs & tagging"]
  end

  %% ===== EU =====
  subgraph EU_OU["OU: EU (GDPR + Healthcare Boundary)"]
    direction TB
    EU_NET["EU Networking Account\nVPCs/TGW/endpoints (EU only)"]
    EU_DROP["EU Ingestion/FileDrop Account\nTransfer Family -> S3 landing (EU)\nclient isolation + governance"]
    EU_APP1["EU Prod App1 Account\nEKS + app data\n(Mongo/S3/etc.)"]
    EU_APP2["EU Prod App2 Account\nEKS + app data"]
    EU_APP3["EU Prod App3 Account\nEKS + app data"]
    EU_NONPROD["EU NonProd Account(s)\nDev/Test (sanitized data preferred)"]
    EU_DATA_OPT["EU Data Platform (Optional)\nshared lake/warehouse\nEU-only sharing"]
  end

  %% ===== US =====
  subgraph US_OU["OU: US (HIPAA/HITRUST Boundary)"]
    direction TB
    US_NET["US Networking Account\nVPCs/TGW/endpoints (US only)"]
    US_DROP["US Ingestion/FileDrop Account\nTransfer Family -> S3 landing (US)\nclient isolation + governance"]
    US_APP1["US Prod App1 Account\nEKS + app data"]
    US_APP2["US Prod App2 Account\nEKS + app data"]
    US_APP3["US Prod App3 Account\nEKS + app data"]
    US_NONPROD["US NonProd Account(s)\nDev/Test (sanitized data preferred)"]
    US_DATA_OPT["US Data Platform (Optional)\nUS-only sharing"]
  end

  %% ===== AU =====
  subgraph AU_OU["OU: Australia (Healthcare Boundary)"]
    direction TB
    AU_NET["AU Networking Account\nVPCs/TGW/endpoints (AU only)"]
    AU_DROP["AU Ingestion/FileDrop Account\nTransfer Family -> S3 landing (AU)\nclient isolation + governance"]
    AU_APP1["AU Prod App1 Account\nEKS + app data"]
    AU_APP2["AU Prod App2 Account\nEKS + app data"]
    AU_APP3["AU Prod App3 Account\nEKS + app data"]
    AU_NONPROD["AU NonProd Account(s)\nDev/Test"]
  end

  %% ===== Relationships =====
  MGMT --> POL
  POL --> EU_OU
  POL --> US_OU
  POL --> AU_OU

  AUD --> LOG
  EU_DROP -->|"CloudTrail/Config logs"| LOG
  US_DROP -->|"CloudTrail/Config logs"| LOG
  AU_DROP -->|"CloudTrail/Config logs"| LOG
  EU_APP1 -->|"CloudTrail/Config logs"| LOG
  US_APP1 -->|"CloudTrail/Config logs"| LOG
  AU_APP1 -->|"CloudTrail/Config logs"| LOG

  ID --> EU_APP1
  ID --> US_APP1
  ID --> AU_APP1
  CICD --> EU_APP1
  CICD --> US_APP1
  CICD --> AU_APP1
